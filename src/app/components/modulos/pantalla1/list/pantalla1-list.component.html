<app-content-header
  [titulo]="titulo"
  [lista]="lista">
</app-content-header>
<section class="content">

  <div class="box">
    <div class="box-body">
      <div class="dataTables_wrapper form-inline dt-bootstrap">
        <div class="row" style="padding-bottom: 5px">
          <div class="col-sm-12">
            <form class="form-inline" #fechasForm="ngForm">
              <div class="box-body">
                <div class="form-group mb10 clearfix" style="padding-right: 10px">
                  <label for="servicio" style="padding-right: 10px">Servicio: </label>
                  <select class="form-control" id="servicio"
                          [(ngModel)]="servicio"
                          [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let servicios of servicios" [value]="servicios.descripcion">
                      {{servicios.descripcion}}
                    </option>
                  </select>
                </div>

                <div class="form-group mb10 clearfix" style="padding-right: 10px">
                  <label for="tipoDocumento" style="padding-right: 10px">Tipo de Documento: </label>
                  <select class="form-control" id="tipoDocumento"
                          [(ngModel)]="tipoDocumento"
                          [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let tipoDocument of tiposDocumentos" [value]="tipoDocument">
                      {{tipoDocument}}
                    </option>
                  </select>
                </div>
                <div class="form-group mb10 clearfix" style="padding-right: 10px">
                  <label for="numeroDocumento" style="padding-right: 10px">NÃºmero de Documento: </label>
                  <input id="numeroDocumento"
                         type="text"
                         class="form-control"
                         [ngModel]="numeroDocumento"
                         [ngModelOptions]="{standalone: true}"
                         (ngModelChange)="numeroDocumento = $event">
                </div>

                <button type="submit"
                        class="btn btn-default"
                        (click)="consultar()">Consultar
                </button>
              </div>
            </form>
          </div>
        </div>
        <!--        {{inputDeBuscar | json}}-->
        <div class="row">
          <div class="col-sm-12">
            <table class="table table-bordered table-striped dataTable" *ngIf="deudas?.length > 0">
              <thead>
              <tr role="row">
                <th>Factura</th>
                <th>Nombre Completo</th>
                <th>Vencimiento</th>
                <th>Importe</th>
                <th>Acciones</th>
              </tr>
              </thead>
              <tbody>
              <tr class="odd" role="row" *ngFor="let deuda of deudas; let i=index">
                <td>{{deuda.factura}}</td>
                <td>{{deuda.nombre_completo}}</td>
                <td>{{deuda.vencimiento | date:"dd/MM/yyyy"}}</td>
                <td class="text-right">{{deuda.importe | number:'1.0'}}</td>
                <td>
                  <button type="button"
                          class="btn btn-sm btn-success"
                          title="Procesar Pago"
                          (click)='procesarPago(deuda)'
                          style="margin-right: 5px">
                    <i class="fa fa-money"></i>
                    Procesar Pago
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>
